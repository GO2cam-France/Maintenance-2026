<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>GO2cam – Maintenance 2026 · Essentiel / Premium / Rappel</title>
<meta content="#00f7ff" name="theme-color"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<style>
    :root{
      --bg-dark:#0b0e13;--bg-soft:#11151c;--primary:#00f7ff;--primary-2:#00c9d6;
      --text:#e5e7eb;--muted:#9ca3af;--card:#0f1319;--stroke:#1e2630;--ring:rgba(0,247,255,.45);
      --neon-glow:0 0 10px #00f7ff,0 0 28px #00f7ff,0 0 60px #00f7ff,0 0 90px #00f7ff22;
      --pink:#ff3ea5;--vio:#7c5cff;--cyan:#00f7ff;--lime:#9cff57;
    }
    *{box-sizing:border-box}
    html,body{margin:0;min-height:100%;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;color:var(--text);}
    body{background:radial-gradient(1200px 500px at 15% 10%,#0e1721 20%,transparent 70%),
         radial-gradient(1000px 500px at 85% 15%,#07141a 10%,transparent 75%),
         linear-gradient(270deg,var(--bg-dark),var(--bg-soft),var(--bg-dark));
      background-size:200% 200%;animation:bgFlow 24s ease-in-out infinite}
    @keyframes bgFlow{0%{background-position:0% 30%}50%{background-position:100% 70%}100%{background-position:0% 30%}}
    a{color:inherit;text-decoration:none}
    [hidden]{display:none!important}
    .container{width:min(1120px,92%);margin-inline:auto}

    header{position:sticky;top:0;z-index:50;background:rgba(12,16,22,.75);backdrop-filter:blur(10px);border-bottom:2px solid var(--primary)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:.8rem 0}
    .logo{font-weight:800;color:var(--primary);text-shadow:var(--neon-glow)}
    .pill{display:inline-block;border:1px solid var(--stroke);border-radius:999px;padding:.35rem .7rem;background:#0a0f15;color:#e5e7eb}
    .pill-btn{border-color:var(--primary);color:var(--primary);background:#05161a;box-shadow:0 0 16px #00f7ff33}
    .pill-btn:hover{box-shadow:0 0 22px #00f7ff77}

    .btn{display:inline-flex;align-items:center;gap:.6rem;padding:1rem 1.2rem;border-radius:14px;border:1px solid transparent;font-weight:800;cursor:pointer;transition:all .25s ease;text-transform:uppercase;letter-spacing:.02em}
    .btn-pri{background:var(--primary);color:#031517;box-shadow:var(--neon-glow)}
    .btn-pri:hover{transform:translateY(-1px) scale(1.03);background:var(--primary-2)}
    .btn-ghost{background:transparent;border-color:var(--stroke);color:var(--text)}
    .btn-ghost:hover{border-color:var(--primary);box-shadow:var(--neon-glow)}

    .card.neon{border-color:var(--primary); box-shadow:var(--neon-glow)}
    .mini.neon .btn{box-shadow:var(--neon-glow)}

    /* Liens plats (pas de bulles) */
    .link{font-weight:800; padding:0; border:none; background:transparent; text-transform:uppercase}
    .link:hover{text-decoration:underline; text-underline-offset:3px}

    /* Carte sans halo arc-en-ciel */
    .card.plain::before{display:none!important}

    .hero{padding:3rem 0 1.6rem;text-align:center}
    h1{font-size:clamp(2rem,3.4vw,2.8rem);margin:.4rem 0;color:#fff;text-shadow:0 2px 14px #00f7ff44}
    p.lead{color:var(--muted);max-width:760px;margin:.5rem auto 0}

    .cta-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center;margin:1.2rem 0 0}
    .cta{position:relative;display:flex;align-items:center;gap:.7rem;padding:1rem 1.1rem;border-radius:14px;border:1px solid var(--stroke);background:linear-gradient(180deg,#0b1219,#0b1219 50%,#0a0f15);box-shadow:inset 0 0 16px #00f7ff11}
    .cta .title{font-weight:900}
    .cta .sub{color:var(--muted);font-size:.9rem}

    .rays{pointer-events:none;position:absolute;inset:-2px;border-radius:16px;filter:blur(16px);opacity:.9;background:conic-gradient(from 0deg at 50% 50%,var(--cyan),var(--vio),var(--pink),var(--lime),var(--cyan))}
    .rays::after{content:"";position:absolute;inset:0;border-radius:16px;background:radial-gradient(70% 30% at 50% 0%,#00f7ff55,transparent 80%)}

    .grid-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:18px}
    .grid-cards.top-row .card{padding:1.1rem 1rem}
    .grid-cards.top-row .card h3{margin:.2rem 0 .3rem 0}
    .card.mini .btn{margin-top:.2rem}
    @media(max-width:900px){.grid-cards{grid-template-columns:1fr}}
    .card{position:relative;background:var(--card);border:1px solid var(--stroke);border-radius:18px;padding:1rem;overflow:hidden;box-shadow:0 0 14px #00f7ff22}
    .card::before{content:"";position:absolute;inset:-2px;border-radius:20px;opacity:.0;display:none;}
    .card h3{margin:.2rem 0;color:var(--primary)}
    .price{font-size:1.1rem;font-weight:800;color:#fff}
    .features{margin:.8rem 0 0 1rem}
    .features li{margin:.25rem 0}
    .badge{position:absolute;top:10px;right:10px;border:1px solid var(--primary);padding:.25rem .5rem;border-radius:999px;font-size:.75rem;color:var(--primary);background:#051319}

    /* ===== Dashboard ===== */
    .dash{margin-top:2rem}
    .grid{display:grid;gap:16px}
    .g-4{grid-template-columns:repeat(4,1fr)}
    .g-5{grid-template-columns:repeat(5,1fr)}
    .g-2{grid-template-columns:1fr 1fr}
    @media(max-width:1000px){.g-4,.g-5{grid-template-columns:1fr 1fr}.g-2{grid-template-columns:1fr}}
    .kpi{display:flex;flex-direction:column;gap:4px}
    .kpi .lbl{color:var(--muted);font-size:.9rem}
    .kpi .val{font-size:1.6rem;font-weight:800}
    .tag{display:inline-block;padding:.3rem .6rem;border:1px solid var(--stroke);border-radius:999px;background:#0b0d10;color:#cbd5e1}
    .login-inline{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap}
    table{width:100%;border-collapse:collapse}
    th,td{border-bottom:1px solid var(--stroke);padding:.6rem;text-align:left}
    th{color:#cbd5e1}
    .toolbar{display:flex;gap:.6rem;align-items:center;justify-content:space-between;margin:.4rem 0 1rem}
  </style>
</head>
<body>
<header>
<div class="container nav">
<div class="logo">GO2cam</div>
<div class="login-inline">
<span class="pill">Information contrat</span>
<!-- Suppression du title pour éviter la bulle/tooltip -->
<button class="pill pill-btn" id="btn-stats">Admin</button>
</div>
</div>
</header>
<main class="container">
<section class="hero">
<p class="pill">Entrée en vigueur : 01/01/2026</p>
<h1>Maintenance GO2cam 2026 — choisissez votre formule</h1>
<!-- Vitrine CTA neon -->
<div class="cta-row">
<a class="btn btn-pri" data-formule="essentiel" href="https://support.go2cam.net/go2f-maintenance?formule=Essentiel">Accéder à Essentiel</a>
<a class="btn btn-ghost" data-formule="premium" href="https://support.go2cam.net/go2f-maintenance?formule=Premium">Accéder à Premium</a>
<a class="btn btn-ghost" data-formule="rappel" href="https://support.go2cam.net/go2f-maintenance?formule=rappel">Être rappelé</a>
</div>
<div class="card plain" style="margin-top:12px">

<div style="max-width:1024px; margin:16px auto; position:relative">
<video autoplay="" controls="" id="video-nouveautes" muted="" playsinline="" style="width:100%;height:auto;aspect-ratio:16/9;object-fit:contain;background:#000;border-radius:12px;border:1px solid var(--stroke);box-shadow:0 0 12px #00f7ff22;"></video>
<div class="muted" id="video-msg" style="margin-top:8px"></div>
</div>
</div>
<!-- Cartes formules (vitrine) -->
<div class="grid-cards" role="list" style="margin-top:22px">
<article class="card highlight" role="listitem">
<span class="badge">Par défaut</span>
<h3>Essentiel</h3>
<ul class="features">
<li>Appel téléphonique &amp; e-mail</li>
<li>Prise en main à distance</li>
<li><strong>Installation du logiciel en local</strong></li>
<li><strong>Hotline : 2 h/an</strong></li>
<li>Formation nouveautés : <strong style="color:#00f7ff">500 € HT/pers.</strong> (au lieu de 800 €)</li>
</ul>
</article>
<article class="card highlight" role="listitem">
<span class="badge">Sur demande</span>
<h3>Premium</h3>
<ul class="features">
<li>Appel téléphonique &amp; e-mail</li>
<li>Prise en main à distance</li>
<li><strong>Installation du logiciel sur serveur</strong></li>
<li><strong>Hotline : 7 h/an</strong></li>
<li><strong>Remise jusqu’à 10 %</strong> sur post-processeur / nouvelle licence</li>
<li>Formation nouveautés : <strong style="color:#00f7ff">500 € HT/pers.</strong> (au lieu de 800 €)</li>
</ul>
</article>
<article class="card highlight" role="listitem">
<span class="badge">Sur demande</span>
<h3>Être rappelé</h3>
<ul class="features">
<li>Accompagnement personnalisé</li>
<li>Conseil selon votre contexte</li>
<li>Démo ciblée au besoin</li>
</ul>
</article>
</div>
</section>
<!-- BOTTOM: 3 choix en pied de page -->

<!-- ****** La section comparatif a été supprimée comme demandé ****** -->
<!-- ======== DASHBOARD INTÉGRÉ ======== -->
<section class="dash card" hidden="" id="stats">
<div class="toolbar">
<div class="login-inline">
<h3 style="margin:0">GO2cam 2026</h3>
<span class="tag" hidden="" id="badge-filter"></span>
</div>
<div class="login-inline">
<input id="pwd" placeholder="Mot de passe…" type="password"/>
<button class="btn btn-ghost" id="btn-login">Entrer</button>
<button class="btn btn-ghost" hidden="" id="btn-logout">Quitter</button>
<button class="btn btn-ghost" hidden="" id="btn-export">Exporter CSV</button>
</div>
</div>
<div hidden="" id="dash-content">
<!-- Ajout d'un KPI "Clics liens" -->
<div class="grid g-5">
<div class="card kpi"><span class="lbl">Total</span><span class="val" id="kpi-total">—</span></div>
<div class="card kpi"><span class="lbl">Essentiel</span><span class="val" id="kpi-ess">—</span></div>
<div class="card kpi"><span class="lbl">Premium</span><span class="val" id="kpi-pre">—</span></div>
<div class="card kpi"><span class="lbl">Rappels</span><span class="val" id="kpi-rap">—</span></div>
<div class="card kpi"><span class="lbl">Clics liens</span><span class="val" id="kpi-clicks">—</span></div>
</div>
<div class="grid g-2" style="margin-top:16px">
<div class="card">
<h4 style="margin:0 0 .6rem 0">Répartition des formules</h4>
<canvas height="300" id="chart-formules"></canvas>
</div>
<div class="card">
<h4 style="margin:0 0 .6rem 0">Top CAO</h4>
<canvas height="300" id="chart-cao"></canvas>
</div>
</div>
<div class="card" style="margin-top:16px">
<h4 style="margin:0 0 .6rem 0">Soumissions dans le temps</h4>
<canvas height="90" id="chart-temps"></canvas>
</div>
<div class="card" style="margin-top:16px">
<div class="toolbar">
<h4 style="margin:0">Dernières réponses</h4>
<div class="login-inline">
<input id="q" placeholder="Filtrer (entreprise, email, CAO…)"/>
<select id="filtre-formule">
<option value="">Toutes formules</option>
<option value="essentiel">Essentiel</option>
<option value="premium">Premium</option>
<option value="rappel">Rappel</option>
</select>
</div>
</div>
<div style="overflow:auto">
<table id="tbl">
<thead>
<tr><th>Date</th><th>Entreprise</th><th>Nom</th><th>Email</th><th>Tél</th><th>Formule</th><th>CAO</th></tr>
</thead>
<tbody></tbody>
</table>
</div>
</div>
</div>
<p class="muted" id="login-msg" style="margin-top:.6rem"></p>
</section>
</main>
<footer class="container">
<p>© 2025 GO2cam – Tous droits réservés.</p>
</footer>
<!-- Libs -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
<script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dayjs@1/plugin/utc.js"></script>
<script>dayjs.extend(window.dayjs_plugin_utc)</script>
<!-- ===== CONFIG SUPABASE ===== -->
<script>
    const SUPABASE_URL  = "https://jsmgnchubnkkfhyuadpx.supabase.co";
    const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzbWduY2h1Ym5ra2ZoeXVhZHB4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3OTI0ODksImV4cCI6MjA3NjM2ODQ4OX0.Q3ZkOKkaYv70tfLz9bEjrkof5RcLbDV_MkXehk8sJ_E";
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON);

    // Storage vidéo
    const STORAGE_BUCKET = "prive";
    const VIDEO_PATH  = "client/nouveautes-2026.mp4";
    const POSTER_PATH = "client/poster-nouveautes-2026.jpg";
    const EXPIRY_SEC  = 60 * 60 * 2;

    // Edge Function lecture seule
    const EDGE_STATS_URL  = "https://jsmgnchubnkkfhyuadpx.functions.supabase.co/maintenance-stats";

    // Mot de passe dashboard (SHA-256 de 'go2cam2026!')
    const PASSWORD_SHA256 = "31cacff1e8124f5d672b67ecd36e91b2ee81df7daec29a0b99848fd448af3f53";
  </script>
<!-- Vidéo signée -->
<script>
    async function loadSignedMedia(){
      const msgEl = document.getElementById('video-msg');
      const video = document.getElementById('video-nouveautes');
      try {
        msgEl.textContent = "Chargement de la vidéo…";
        const { data: poster } = await supabase.storage.from(STORAGE_BUCKET).createSignedUrl(POSTER_PATH, EXPIRY_SEC);
        if (poster?.signedUrl) video.setAttribute('poster', poster.signedUrl);
        const { data: signed } = await supabase.storage.from(STORAGE_BUCKET).createSignedUrl(VIDEO_PATH, EXPIRY_SEC);
        video.src = signed.signedUrl; video.load();
        video.oncanplay = () => { msgEl.textContent = ""; try{ video.play(); }catch(e){} };
        video.onerror = () => { msgEl.textContent = "Le navigateur ne peut pas lire cette vidéo."; };
      } catch (e) { console.error(e); msgEl.textContent = "Impossible de charger la vidéo."; }
    }
    document.addEventListener('DOMContentLoaded', loadSignedMedia);
  </script>
<!-- Tracking clics CTA + désactivation tooltip admin -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
      // Désactiver toute bulle/tooltip par attribut title (sécurité si ajouté ailleurs)
      const adminBtn = document.getElementById('btn-stats');
      adminBtn.removeAttribute('title');

      // Tracking des clics sur les liens vers les formules
      const links = document.querySelectorAll('a[data-formule], a.cta-link');
      for (const l of links){
        l.addEventListener('click', async (ev)=>{
          try{
            // Enregistrer le clic sans bloquer la navigation
            const formule = (l.dataset.formule||'').toLowerCase() || 'inconnu';
            const href = l.getAttribute('href');
            navigator.sendBeacon?.(SUPABASE_URL + '/rest/v1/maintenance_2026_clicks', new Blob([JSON.stringify({formule, href, created_at:new Date().toISOString()})], {type:'application/json'}));
            // Fallback insert si Beacon indisponible (ne bloque pas la navigation grâce à setTimeout)
            setTimeout(async()=>{ try{ await supabase.from('maintenance_2026_clicks').insert([{ formule, href }]); }catch(e){} },0);
          }catch(e){ console.warn('click track failed', e); }
        }, {passive:true});
      }
    });
  </script>
<!-- Dashboard: mot de passe + fetch + charts + KPI clics -->
<script>
    const $ = (s)=>document.querySelector(s);
    let RAW = [], chartFormules, chartCao, chartTemps;

    async function sha256Hex(txt){
      const buf = new TextEncoder().encode(txt);
      const hash = await crypto.subtle.digest('SHA-256', buf);
      return [...new Uint8Array(hash)].map(b=>b.toString(16).padStart(2,'0')).join('');
    }

    document.getElementById('btn-stats').addEventListener('click', ()=>{
      const sec = document.getElementById('stats');
      if (sec.hasAttribute('hidden')) { sec.removeAttribute('hidden'); sec.scrollIntoView({behavior:'smooth'}); }
      else { sec.setAttribute('hidden',''); }
    });

    document.getElementById('btn-login').addEventListener('click', async ()=>{
      const ok = (await sha256Hex(document.getElementById('pwd').value || '')) === PASSWORD_SHA256;
      if (!ok) { document.getElementById('login-msg').textContent = "Mot de passe incorrect."; return; }
      document.getElementById('login-msg').textContent = "";
      document.getElementById('btn-logout').hidden = false;
      document.getElementById('btn-export').hidden = false;
      document.getElementById('dash-content').hidden = false;
      document.getElementById('badge-filter').hidden = false;
      await loadData();
    });

    document.getElementById('btn-logout').addEventListener('click', ()=>{
      document.getElementById('dash-content').hidden = true;
      document.getElementById('btn-logout').hidden = true;
      document.getElementById('btn-export').hidden = true;
      document.getElementById('pwd').value = '';
      document.getElementById('badge-filter').hidden = true;
    });

    // Récupération + construction
    async function loadData(){
      // Réponses via Edge Function
      const res = await fetch(EDGE_STATS_URL, {
        method: 'GET',
        headers: {
          'Authorization': 'Bearer ' + SUPABASE_ANON,
          'apikey': SUPABASE_ANON
        },
        cache: 'no-store'
      });

      if (!res.ok) {
        document.getElementById('login-msg').textContent = 'Edge Function indisponible (' + res.status + ').';
        return;
      }

      RAW = await res.json();

      // Clics via table publique (RLS côté Supabase requis)
      let clicks = [];
      try{ const { data } = await supabase.from('maintenance_2026_clicks').select('id,formule,href,created_at'); clicks = data||[]; }catch(e){ clicks=[]; }

      document.getElementById('kpi-clicks').textContent = clicks.length;

      // Filtrage + rendu
      applyFilters();
      document.getElementById('q').addEventListener('input', applyFilters);
      document.getElementById('filtre-formule').addEventListener('change', applyFilters);
      document.getElementById('btn-export').addEventListener('click', () => exportCSV(filteredRows()));
    }

    function buildKPIs(rows){
      const ess = rows.filter(r=>r.formule==='essentiel').length;
      const pre = rows.filter(r=>r.formule==='premium').length;
      const rap = rows.filter(r=>r.formule==='rappel').length;
      document.getElementById('kpi-total').textContent = rows.length;
      document.getElementById('kpi-ess').textContent = ess;
      document.getElementById('kpi-pre').textContent = pre;
      document.getElementById('kpi-rap').textContent = rap;
    }

    function buildCharts(rows){
      const ess = rows.filter(r=>r.formule==='essentiel').length;
      const pre = rows.filter(r=>r.formule==='premium').length;
      const rap = rows.filter(r=>r.formule==='rappel').length;

      if (chartFormules) chartFormules.destroy();
      chartFormules = new Chart(document.getElementById('chart-formules'), {
        type:'doughnut',
        data:{ labels:['Essentiel','Premium','Rappel'], datasets:[{ data:[ess,pre,rap] }] },
        options:{ plugins:{legend:{position:'bottom'}}, cutout:'62%' }
      });

      const counts = new Map();
      for (const r of rows){
        let k = (r.cao === 'autre') ? (r.cao_autre || 'Autre') : (r.cao || 'Non renseigné');
        k = String(k).trim(); counts.set(k, (counts.get(k)||0)+1);
      }
      const top = [...counts.entries()].sort((a,b)=>b[1]-a[1]).slice(0,12);
      if (chartCao) chartCao.destroy();
      chartCao = new Chart(document.getElementById('chart-cao'), {
        type:'bar',
        data:{ labels:top.map(t=>t[0]), datasets:[{ data:top.map(t=>t[1]) }] },
        options:{ indexAxis:'y', plugins:{legend:{display:false}}, scales:{x:{beginAtZero:true}} }
      });

      const perDay = new Map();
      for (const r of rows){
        const d = dayjs.utc(r.created_at).format('YYYY-MM-DD');
        perDay.set(d, (perDay.get(d)||0)+1);
      }
      const seq = [...perDay.entries()].sort((a,b)=>a[0].localeCompare(b[0]));
      if (chartTemps) chartTemps.destroy();
      chartTemps = new Chart(document.getElementById('chart-temps'), {
        type:'line',
        data:{ labels:seq.map(x=>x[0]), datasets:[{ data:seq.map(x=>x[1]), fill:false, tension:.25 }] },
        options:{ plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true, ticks:{precision:0}}} }
      });
    }

    function buildTable(rows){
      const tbody = document.querySelector('#tbl tbody');
      tbody.innerHTML = '';
      for (const r of rows.slice().reverse()){
        const caoTxt = (r.cao === 'autre') ? (r.cao_autre || 'Autre') : (r.cao || '—');
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${dayjs.utc(r.created_at).local().format('DD/MM/YYYY HH:mm')}</td>
          <td>${escapeHtml(r.entreprise || '—')}</td>
          <td>${escapeHtml(r.nom || '—')}</td>
          <td>${escapeHtml(r.email || '—')}</td>
          <td>${escapeHtml(r.tel || '—')}</td>
          <td>${r.formule || '—'}</td>
          <td>${escapeHtml(caoTxt)}</td>`;
        tbody.appendChild(tr);
      }
    }

    function filteredRows(){
      const q = (document.getElementById('q')?.value || '').toLowerCase();
      const f = document.getElementById('filtre-formule')?.value || '';
      const rows = RAW.filter(r=>{
        const caoTxt = (r.cao === 'autre') ? (r.cao_autre || 'Autre') : (r.cao || '');
        const line = [r.entreprise,r.nom,r.email,r.tel,caoTxt].join(' ').toLowerCase();
        const okQ = !q || line.includes(q);
        const okF = !f || r.formule === f;
        return okQ && okF;
      });
      document.getElementById('badge-filter').textContent = f || q ? `${rows.length} enregistrements (filtrés)` : '';
      return rows;
    }

    function applyFilters(){ const rows = filteredRows(); buildKPIs(rows); buildCharts(rows); buildTable(rows); }

    function exportCSV(rows){
      const header = ['created_at','entreprise','nom','email','tel','formule','cao','cao_autre'];
      const esc = s => `"${String(s??'').replace(/"/g,'""')}"`;
      const csv = [header.join(',')].concat(rows.map(r=>header.map(k=>esc(r[k])).join(','))).join('\n');
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'maintenance_2026_export.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    function escapeHtml(s){return String(s).replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;' }[m]))}
  </script>
</body>
</html>
